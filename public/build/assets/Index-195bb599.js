import{o as g,c as x,w as a,b as t,a as e,n as B,g as b,t as m,r as D,x as o,v as T,I as M}from"./app-efdfa947.js";import{_ as j}from"./AppLayout-43764f53.js";import{F as E,_ as P,d as W}from"./vuedraggable.umd-a006e6d8.js";import $ from"./Form-44001d10.js";import{_ as v}from"./_plugin-vue_export-helper-c27b6911.js";import{S as N,h as S,K as R,Y as L,z}from"./transition-ef712be7.js";import{_ as A,a as V,P as K,T as Y,b as q,B as G}from"./OutlineBtn-e93e94aa.js";import"./createPopper-a1061a27.js";import"./vue.runtime.esm-bundler-0933dc64.js";import"./TextInput-52b0da1a.js";import"./InputLabel-d02a8960.js";import"./SvgLoading-5ecac20e.js";import"./use-event-listener-d2f482bb.js";const H={props:{isOpen:Boolean,dialogTitle:String,panelClass:{type:String,default:"max-w-2xl"}},components:{TransitionRoot:N,TransitionChild:S,Dialog:R,DialogPanel:L,DialogTitle:z}},J=e("div",{class:"fixed inset-0 bg-black/30"},null,-1),Q={class:"fixed inset-0 overflow-y-auto"},U={class:"flex min-h-full items-center justify-center p-4"};function X(s,n,i,w,l,r){const d=o("TransitionChild"),p=o("DialogTitle"),_=o("DialogPanel"),u=o("Dialog"),f=o("TransitionRoot");return g(),x(f,{show:i.isOpen,as:"template"},{default:a(()=>[t(u,null,{default:a(()=>[t(d,{enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-300 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>[J]),_:1}),t(d,{enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:a(()=>[e("div",Q,[e("div",U,[t(_,{class:B(["w-full bg-white rounded-lg overflow-hidden shadow-xl",i.panelClass])},{default:a(()=>[t(p,{class:"text-xl font-bold p-2"},{default:a(()=>[b(m(i.dialogTitle),1)]),_:1}),D(s.$slots,"default")]),_:3},8,["class"])])])]),_:3})]),_:3})]),_:3},8,["show"])}const Z=v(H,[["render",X]]),h=T({name:"",description:"",image:null}),oo={props:["tableauTags"],components:{AppLayout:j,Table:E,ModelForm:$,WkNotification:A,OutlineBtn:V,OutlineBtnDanger:P,PlusIcon:K,TrashIcon:Y,PencilIcon:q,Bars2Icon:G,draggable:W,Modal:Z},data(){return{isFormOpen:!1,isFormEdit:!1,formObject:h,isWorking:!1,drag:!1,modalTitle:"Modification tag"}},methods:{saveItem(s){this.isWorking=!0;let n={onSuccess:()=>{this.formObject.reset("name","slug"),this.closeModal(),this.isWorking=!1},onError:()=>{this.isWorking=!1}};s.id?this.$inertia.put(`/tableauTags/${s.id}`,this.formObject,n):this.formObject.post("/bo/tableauTags",n)},closeModal(){this.isFormOpen=!1,this.isFormEdit=!1},openForm(s){this.isFormOpen=!0,this.isFormEdit=!!s,this.formObject=s?T(s):h,this.isFormEdit||(this.modalTitle="Modification d'un tag")},deleteItem(s){window.confirm("are you sure?")&&this.$inertia.delete(`/tableauTags/${s.id}`)},onEndReorder(s){let n={order:this.tableauTags.data.map(({id:i})=>i)};M.post("/bo/tableauxTags",n)}}},eo=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Les Tags de tableaux ",-1),to={class:"py-12"},so={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ao={class:"pt-12"},no={class:"max-w-xl"},io={class:"border border-gray-400 inline-flex w-full items-center text-gray-500 bg-white whitespace-nowrap text-sm hover:bg-gray-100 focus-within:bg-gray-100"},lo={class:"py-3 px-6 w-3/6"},ro={class:"py-3 px-6 w-2/6"},co={class:"py-3 px-6 w-2/6 flex justify-end"},mo={class:"bg-green-500 w-6 h-6 text-xs mx-2 rounded-full flex items-center"},po={class:"mx-auto text-white"};function _o(s,n,i,w,l,r){const d=o("WkNotification"),p=o("PlusIcon"),_=o("OutlineBtn"),u=o("Bars2Icon"),f=o("PencilIcon"),y=o("TrashIcon"),F=o("draggable"),O=o("ModelForm"),k=o("Modal"),I=o("AppLayout");return g(),x(I,{title:"Dashboard"},{header:a(()=>[eo]),default:a(()=>[e("div",to,[t(d,{message:s.$page.props.flash.message},null,8,["message"]),e("div",so,[t(_,{onClick:n[0]||(n[0]=c=>r.openForm())},{default:a(()=>[b(" Nouveau Tag de tableau"),t(p,{class:"ml-2 -mr-1 h-5 w-5"})]),_:1}),e("div",ao,[e("div",no,[t(F,{list:i.tableauTags.data,"item-key":"order_column",handle:".handle",onChange:r.onEndReorder},{item:a(({element:c})=>[e("ul",io,[t(u,{class:"h-6 pl-1 handle cursor-pointer"}),e("li",lo,m(c.name),1),e("li",ro,m(c.slug),1),e("li",co,[t(f,{class:"w-6 h-6 cursor-pointer hover:stroke-black",onClick:C=>r.openForm(c)},null,8,["onClick"]),e("div",mo,[e("div",po,m(c.tableaux_count),1)]),t(y,{class:"w-6 h-6 cursor-pointer hover:stroke-red-600",onClick:C=>r.deleteItem(c)},null,8,["onClick"])])])]),_:1},8,["list","onChange"])])])])]),t(k,{isOpen:l.isFormOpen,dialogTitle:l.modalTitle,panelClass:"max-w-4xl"},{default:a(()=>[t(O,{isOpen:l.isFormOpen,isEdit:l.isFormEdit,form:l.formObject,isWorking:l.isWorking,onFormsave:r.saveItem,onFormclose:r.closeModal},null,8,["isOpen","isEdit","form","isWorking","onFormsave","onFormclose"])]),_:1},8,["isOpen","dialogTitle"])]),_:1})}const Io=v(oo,[["render",_o]]);export{Io as default};
