import{P as u,O as T,c as M,w as i,N as t,o as c,a as o,b as s,g as D,e as d,h as j,t as m,f as B,F as W}from"./app-c8adfab2.js";import{_ as C}from"./AppLayout-f047be12.js";import{F as E,_ as N,r as P,a as L,b as V}from"./OutlineBtnDanger-ebe0112d.js";import A from"./Form-44836127.js";import{_ as $,a as S}from"./OutlineBtn-a00a548b.js";import{M as K}from"./Modal-e9ab4f08.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";import"./createPopper-9bf0707f.js";import"./multiselect-dbaeebb1.js";import"./TextInput-116a31b4.js";import"./InputLabel-5206ffca.js";import"./SvgLoading-aea3ca2c.js";import"./WinputFile-016a6ba5.js";import"./default.css_vue_type_style_index_0_src_true_lang-d7fdadac.js";import"./transition-1f2a6567.js";const g=u({name:"",description:"",tagIds:[],image:null}),z={props:["tableaux"],components:{AppLayout:C,Table:E,ModelForm:A,WkNotification:$,OutlineBtn:S,OutlineBtnDanger:N,PlusIcon:P,TrashIcon:L,PencilIcon:V,Modal:K},data(){return{isFormOpen:!1,isFormEdit:!1,tagDatas:{},formObject:g,isWorking:!1,srcsImages:{},modalTitle:"Modification tableau"}},methods:{saveItem(e){this.isWorking=!0,console.log(this.formObject);let a={onSuccess:()=>{this.formObject.reset("name","description","image","tagIds"),this.closeModal(),this.isWorking=!1},onError:()=>{this.isWorking=!1}};e.id?(console.log(e.id),this.$inertia.put(`bo/tableaux/${e.id}`,this.formObject,a)):this.formObject.post("/tableaux",a)},closeModal(){this.isFormOpen=!1,this.isFormEdit=!1},async openForm(e){let a=await T.get("/tableauxTags/getall");this.tagDatas=a.data,this.isFormEdit||(this.ModelTitle="CrÃ©ation d'un tableau"),this.formObject=e?u(e):g,console.log(this.formObject.tagIds),this.isFormOpen=!0,this.isFormEdit=!!e},deleteItem(e){console.log(e.id),window.confirm("are you sure?")&&this.$inertia.delete(`tableaux/${e.id}`)},explodetags(e){return e.map(({name:a})=>a).join(", ")}}},G=o("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Les tableaux ",-1),H={class:"py-12"},J={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Q={class:"pb-12"},R={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},U={class:"py-3 px-6"},X={class:"py-3 px-6"},Y={class:"py-3 px-6"},Z={class:"py-3 px-6"},ee={class:"py-3 px-6"},oe={class:"inline-flex"},te=["src"];function se(e,a,p,ae,r,l){const f=t("WkNotification"),h=t("PlusIcon"),_=t("OutlineBtn"),x=t("PencilIcon"),b=t("TrashIcon"),O=t("OutlineBtnDanger"),F=t("Table"),k=t("ModelForm"),y=t("Modal"),I=t("AppLayout");return c(),M(I,{title:"Dashboard"},{header:i(()=>[G]),default:i(()=>[o("div",H,[s(f,{message:e.$page.props.flash.message},null,8,["message"]),o("div",J,[s(_,{onClick:a[0]||(a[0]=n=>l.openForm())},{default:i(()=>[D(" Nouveau"),s(h,{class:"ml-2 -mr-1 h-5 w-5"})]),_:1})])]),o("div",Q,[o("div",R,[s(F,{resource:p.tableaux,"preserve-scroll":!0},{head:i(()=>[]),body:i(()=>[(c(!0),d(W,null,j(p.tableaux.data,(n,v)=>(c(),d("tr",{key:v,class:"text-gray-500 whitespace-nowrap text-sm hover:bg-gray-100 focus-within:bg-gray-100"},[o("td",U,m(n.order_column),1),o("td",X,m(n.name),1),o("td",Y,m(l.explodetags(n.tags)),1),o("td",Z,m(n.updated_at),1),o("td",ee,[o("div",oe,[s(_,{class:"m-1",onClick:w=>l.openForm(n)},{default:i(()=>[s(x,{class:"w-4 h-4"})]),_:2},1032,["onClick"]),s(O,{class:"m-1",onClick:w=>l.deleteItem(n)},{default:i(()=>[s(b,{class:"w-4 h-4"})]),_:2},1032,["onClick"])])]),o("td",null,[n.image?(c(),d("img",{key:0,class:"w-16 h-16",width:"100",height:"100",src:n.image},null,8,te)):B("",!0)])]))),128))]),_:1},8,["resource"])])]),s(y,{isOpen:r.isFormOpen,dialogTitle:r.modalTitle},{default:i(()=>[s(k,{isOpen:r.isFormOpen,isEdit:r.isFormEdit,form:r.formObject,tagData:r.tagDatas,isWorking:r.isWorking,onFormsave:l.saveItem,onFormclose:l.closeModal},null,8,["isOpen","isEdit","form","tagData","isWorking","onFormsave","onFormclose"])]),_:1},8,["isOpen","dialogTitle"])]),_:1})}const Oe=q(z,[["render",se]]);export{Oe as default};
