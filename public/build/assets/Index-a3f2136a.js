import{e as a,a as e,o as l,P as _,O as M,c as T,w as d,N as s,b as r,g as B,h as W,t as h,f as $,F as E}from"./app-c8adfab2.js";import{_ as N}from"./AppLayout-f047be12.js";import{F as P,_ as U,r as L,a as V,b as Y}from"./OutlineBtnDanger-ebe0112d.js";import A from"./Form-44836127.js";import{_ as S,a as G}from"./OutlineBtn-a00a548b.js";import{M as q}from"./Modal-e9ab4f08.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";import"./createPopper-9bf0707f.js";import"./multiselect-dbaeebb1.js";import"./TextInput-116a31b4.js";import"./InputLabel-5206ffca.js";import"./SvgLoading-aea3ca2c.js";import"./WinputFile-016a6ba5.js";import"./default.css_vue_type_style_index_0_src_true_lang-d7fdadac.js";import"./transition-1f2a6567.js";function H(o,t){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 5.25l-7.5 7.5-7.5-7.5m15 6l-7.5 7.5-7.5-7.5"})])}function J(o,t){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l7.5-7.5 7.5 7.5m-15 6l7.5-7.5 7.5 7.5"})])}function K(o,t){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})])}function Q(o,t){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})])}const u=_({name:"",description:"",tagIds:[],image:null}),R={props:["tableaux"],components:{AppLayout:N,Table:P,ModelForm:A,WkNotification:S,OutlineBtn:G,OutlineBtnDanger:U,PlusIcon:L,TrashIcon:V,PencilIcon:Y,ChevronUpIcon:Q,ChevronDoubleUpIcon:J,ChevronDownIcon:K,ChevronDoubleDownIcon:H,Modal:q},data(){return{isFormOpen:!1,isFormEdit:!1,tagDatas:{},formObject:u,isWorking:!1,srcsImages:{},modalTitle:"Modification tableau"}},methods:{saveItem(o){this.isWorking=!0,console.log(this.formObject);let t={onSuccess:()=>{this.formObject.reset("name","description","image","tagIds"),this.closeModal(),this.isWorking=!1,console.log(this.$page.props)},onError:()=>{this.isWorking=!1,console.log(this.formObject.errors)}};o.id?this.formObject.put(`tableaux/${o.id}`,t):this.formObject.post("/bo/tableaux",t)},closeModal(){this.isFormOpen=!1,this.isFormEdit=!1},async openForm(o){console.log(o);let t=await M.get("/bo/tableauxTags/getall");this.tagDatas=t.data,this.isFormEdit||(this.modalTitle="CrÃ©ation d'un tableau"),this.formObject=o?_(o):u,console.log(this.formObject.tagIds),this.isFormOpen=!0,this.isFormEdit=!!o},deleteItem(o){console.log(o),window.confirm("are you sure?")&&this.$inertia.delete(`tableaux/${o.id}`)},move(o,t){let p={mode:o};console.log(t),this.$inertia.put(`tableaux/${t.id}/moveorder`,p)},explodetags(o){return o.map(({name:t})=>t).join(", ")}}},X=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Les tableaux ",-1),Z={class:"py-12"},oo={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},eo={class:"pb-12"},to={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},no={class:"py-3 px-6"},so={class:"py-3 px-6"},ro={class:"py-3 px-6"},io={class:"py-3 px-6"},lo={class:"py-3 px-6"},co={class:"inline-flex items-center"},ao={class:"m-1 flex flex-col justify-between"},mo={class:"m-1 flex flex-col justify-between"},po=["src"],ho={class:"py-3 px-6"};function uo(o,t,p,_o,c,i){const g=s("WkNotification"),f=s("PlusIcon"),x=s("OutlineBtn"),v=s("PencilIcon"),w=s("ChevronUpIcon"),k=s("ChevronDownIcon"),b=s("ChevronDoubleUpIcon"),C=s("ChevronDoubleDownIcon"),I=s("TrashIcon"),F=s("Table"),O=s("ModelForm"),y=s("Modal"),D=s("AppLayout");return l(),T(D,{title:"Gestion tableaux"},{header:d(()=>[X]),default:d(()=>[e("div",Z,[r(g,{message:o.$page.props.flash.message},null,8,["message"]),e("div",oo,[r(x,{onClick:t[0]||(t[0]=n=>i.openForm())},{default:d(()=>[B(" Nouveau tableau"),r(f,{class:"ml-2 -mr-1 h-5 w-5"})]),_:1})])]),e("div",eo,[e("div",to,[r(F,{resource:p.tableaux,"preserve-scroll":!0},{head:d(()=>[]),body:d(()=>[(l(!0),a(E,null,W(p.tableaux.data,(n,j)=>(l(),a("tr",{key:j,class:"text-gray-500 whitespace-nowrap text-sm hover:bg-gray-100 focus-within:bg-gray-100"},[e("td",no,h(n.order_column),1),e("td",so,h(n.name),1),e("td",ro,h(i.explodetags(n.tags)),1),e("td",io,h(o.$date(n.updated_at).format("D MMM YYYY")),1),e("td",lo,[e("div",co,[r(v,{class:"w-6 h-6 cursor-pointer hover:stroke-black",onClick:m=>i.openForm(n)},null,8,["onClick"]),e("div",ao,[r(w,{class:"h-4 w-4 hover:text-black cursor-pointer",onClick:m=>i.move("up",n)},null,8,["onClick"]),r(k,{class:"h-4 w-4 hover:text-black cursor-pointer",onClick:m=>i.move("down",n)},null,8,["onClick"])]),e("div",mo,[r(b,{class:"h-4 w-4 hover:text-black cursor-pointer",onClick:m=>i.move("start",n)},null,8,["onClick"]),r(C,{class:"h-4 w-4 hover:text-black cursor-pointer",onClick:m=>i.move("end",n)},null,8,["onClick"])])])]),e("td",null,[n.image?(l(),a("img",{key:0,class:"w-16 h-16 mx-auto",width:"100",height:"100",src:n.image},null,8,po)):$("",!0)]),e("td",ho,[r(I,{class:"w-4 h-4 cursor-pointer hover:stroke-red-600",onClick:m=>i.deleteItem(n)},null,8,["onClick"])])]))),128))]),_:1},8,["resource"])])]),r(y,{isOpen:c.isFormOpen,dialogTitle:c.modalTitle},{default:d(()=>[r(O,{isOpen:c.isFormOpen,isEdit:c.isFormEdit,form:c.formObject,tagData:c.tagDatas,isWorking:c.isWorking,onFormsave:i.saveItem,onFormclose:i.closeModal},null,8,["isOpen","isEdit","form","tagData","isWorking","onFormsave","onFormclose"])]),_:1},8,["isOpen","dialogTitle"])]),_:1})}const To=z(R,[["render",uo]]);export{To as default};
