import{O as v,e as w,a as t,b as n,q as u,v as f,g as c,k as x,N as i,o as y}from"./app-c8adfab2.js";import{s as I}from"./multiselect-dbaeebb1.js";import{a as k,_ as F}from"./TextInput-116a31b4.js";import{_ as P}from"./InputLabel-5206ffca.js";import{_ as V,a as E}from"./SvgLoading-aea3ca2c.js";import{v as S,p as T,a as L,b as C}from"./default.css_vue_type_style_index_0_src_true_lang-d7fdadac.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";const W=S(C,L,T),R={props:["form","tagData","isOpen","isEdit","isWorking"],components:{InputError:k,InputLabel:P,TextInput:F,TextArea:V,SvgLoading:E,FilePond:W,Multiselect:I},data(){return{myFiles:[]}},activated(){console.log("beforeUpdate")},methods:{handleFilePondInit(){var s;(s=this.form.media)!=null&&s.length?this.myFiles=[{source:this.form.media[0].original_url,options:{type:"local",metadata:{poster:this.form.media[0].original_url}}}]:this.myFiles=[]},handleFilePondLoad(s){this.form.image=s},handleFilePondRemove(s,o,e){this.form.image="",o()},handleFilePondRevert(s,o,e){v.post("bo/upload-images-revert",{image:this.form.image}),o()}}},U={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},q={class:""},B={class:"mb-4"},D={class:"mb-4"},M={class:"mb-4"},O={class:"mb-4"},j=t("label",{for:"formBookImage",class:"block text-gray-700 text-sm font-bold mb-2"},"Images :",-1),A={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},z={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},K=["disabled"],X={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},G=["disabled"],H={class:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"},J=["disabled"];function Q(s,o,e,Y,g,l){const r=i("InputLabel"),p=i("TextInput"),m=i("InputError"),b=i("TextArea"),_=i("Multiselect"),h=i("file-pond"),d=i("SvgLoading");return y(),w("form",{onSubmit:o[6]||(o[6]=x((...a)=>s.submit&&s.submit(...a),["prevent"]))},[t("div",U,[t("div",q,[t("div",B,[n(r,{for:"name",value:"Nom : "}),n(p,{id:"name",modelValue:e.form.name,"onUpdate:modelValue":o[0]||(o[0]=a=>e.form.name=a),type:"text",class:"mt-1 block w-96",required:"",autofocus:"",autocomplete:"name",placeholder:"Entrez un nom"},null,8,["modelValue"]),n(m,{class:"mt-2",message:e.form.errors.name},null,8,["message"])]),t("div",D,[n(r,{for:"description",value:"Description : "}),n(b,{id:"description",modelValue:e.form.description,"onUpdate:modelValue":o[1]||(o[1]=a=>e.form.description=a),type:"text",class:"mt-1 block w-full",required:"",autofocus:"",autocomplete:"description",placeholder:"Entrez un nom"},null,8,["modelValue"]),n(m,{class:"mt-2",message:e.form.errors.description},null,8,["message"])]),t("div",M,[n(r,{for:"slug",value:"Slug : "}),n(_,{modelValue:e.form.tagIds,"onUpdate:modelValue":o[2]||(o[2]=a=>e.form.tagIds=a),valueProp:"id",label:"name",mode:"tags","close-on-select":!1,options:e.tagData},null,8,["modelValue","options"])]),t("div",O,[j,n(h,{name:"imageFilepond",ref:"pond",class:"w-3/5 mx-auto","allow-multiple":!1,"accepted-file-types":"image/png, image/jpeg",server:{url:"",timeout:7e3,process:{url:"/upload-images",method:"POST",headers:{"X-CSRF-TOKEN":s.$page.props.csrf_token},withCredentials:!1,onload:l.handleFilePondLoad,onerror:()=>{}},remove:l.handleFilePondRemove,revert:l.handleFilePondRevert},files:g.myFiles,onInit:l.handleFilePondInit},null,8,["server","files","onInit"])])])]),t("div",A,[t("span",z,[u(t("button",{type:"button",onClick:o[3]||(o[3]=a=>s.$emit("formsave",e.form)),class:"inline-flex justify-center w-full rounded-md border border-transparent px-4 py-2 bg-green-600 text-base leading-6 font-medium text-white shadow-sm hover:bg-green-500 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 sm:text-sm sm:leading-5",disabled:e.isWorking},[n(d,{show:e.isWorking},null,8,["show"]),c(" Save ")],8,K),[[f,!e.isEdit]])]),t("span",X,[u(t("button",{type:"button",onClick:o[4]||(o[4]=a=>s.$emit("formsave",e.form)),class:"inline-flex items-center w-full rounded-md border border-transparent px-4 py-2 bg-green-600 text-base leading-6 font-medium text-white shadow-sm hover:bg-green-500 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 sm:text-sm sm:leading-5",disabled:e.isWorking},[n(d,{show:e.isWorking},null,8,["show"]),c(" Update ")],8,G),[[f,e.isEdit]])]),t("span",H,[t("button",{type:"button",onClick:o[5]||(o[5]=a=>s.$emit("formclose")),class:"inline-flex justify-center w-full rounded-md border border-gray-300 px-4 py-2 bg-white text-base leading-6 font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5",disabled:e.isWorking}," Cancel ",8,J)])])],32)}const ae=N(R,[["render",Q]]);export{ae as default};
