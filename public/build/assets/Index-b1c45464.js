import{s as m,c as d,w as p,x as a,o as r,a as s,b as i,e as f,h as k,g as _,t as h,F as v,f as C}from"./app-6dd79a14.js";import{_ as E}from"./AppLayout-56a3e38f.js";import D from"./EditCreate-436b7c55.js";import{_ as I,P as N,T as P,a as O,B as T}from"./WkNotification-54011fd0.js";import{d as B}from"./vuedraggable.umd-be941b8f.js";import{_ as W}from"./_plugin-vue_export-helper-c27b6911.js";import"./Form-29228b3f.js";import"./default.css_vue_type_style_index_0_src_true_lang-07719871.js";import"./SvgLoading-57eb599c.js";import"./vue.runtime.esm-bundler-5c94f924.js";const L={props:["pages"],components:{AppLayout:E,EditCreate:D,WkNotification:I,PlusIcon:N,TrashIcon:P,PencilIcon:O,Bars2Icon:T,draggable:B},data(){return{isFormOpen:!1,isFormEdit:!1,formData:{},isWorking:!1,drag:!1,modalTitle:"Modification pages"}},methods:{closeForm(){this.isFormOpen=!1,this.isFormEdit=!1},async editForm(t){this.isFormOpen=!1,this.isFormEdit=!1,this.formData={};let e=await m.get("/bo/pages/"+t);this.formData=e.data,this.isFormOpen=!0,this.isFormEdit=!0},async createForm(){this.isFormOpen=!1,this.isFormEdit=!1,this.formData={};let t=await m.get("/bo/pages/create");console.log(t.data),this.formData=t.data,this.isFormOpen=!0},onEndReorder(t){let e={order:this.tableauTags.data.map(({id:n})=>n)};m.post("/bo/pages/neworder",e,{preserveScroll:!0})}}},V={class:"flex items-center justify-between"},j=s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Les Pages",-1),A=s("span",null,"Nouvelle page",-1),$={class:"p-4"},S={class:"mx-auto sm:px-6 mt-8"},M={class:"pt-12 flex"},R={class:"w-1/4 max-h-[600px] overflow-y-auto"},q={class:"border border-gray-400 flex w-full items-center text-gray-500 bg-white text-sm hover:bg-gray-100 focus-within:bg-gray-100"},z={class:"py-3 px-6 flex-1 whitespace-nowrap"},G=s("br",null,null,-1),H={class:"text-xs"},J={class:"py-3 px-6 w-32 flex justify-end"},K={class:"w-full lg:w-2/3 px-2 py-6 lg:py-0"};function Q(t,e,n,U,l,c){const u=a("PlusIcon"),g=a("WkNotification"),x=a("PencilIcon"),F=a("TrashIcon"),b=a("EditCreate"),w=a("AppLayout");return r(),d(w,{title:"Dashboard"},{"header-title":p(()=>[s("div",V,[j,s("div",null,[s("button",{class:"btn btn-primary btn-inline",onClick:e[0]||(e[0]=o=>c.createForm())},[A,i(u,{class:"ml-2 -mr-1 h-8 w-8"})])])])]),default:p(()=>[s("div",$,[i(g,{message:t.$page.props.flash.message},null,8,["message"]),s("div",S,[s("div",M,[s("div",R,[(r(!0),f(v,null,k(n.pages.data,o=>(r(),f("div",{key:o.id},[s("ul",q,[s("li",z,[_(" Nom : "+h(o.name),1),G,_("slug: "),s("i",H,h(o.slug),1)]),s("li",J,[i(x,{class:"w-6 h-6 cursor-pointer hover:stroke-black",onClick:y=>c.editForm(o.id)},null,8,["onClick"]),i(F,{class:"w-6 h-6 cursor-pointer hover:stroke-red-600",onClick:y=>t.deleteItem(o)},null,8,["onClick"])])])]))),128))]),s("div",K,[l.isFormOpen?(r(),d(b,{key:0,class:"bg-white rounded shadow-sm p-2",isEdit:l.isFormEdit,formData:l.formData,onWakaFormClose:c.closeForm},null,8,["isEdit","formData","onWakaFormClose"])):C("",!0)])])])])]),_:1})}const ns=W(L,[["render",Q]]);export{ns as default};
