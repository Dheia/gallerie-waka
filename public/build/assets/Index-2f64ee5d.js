import{_ as v}from"./AppLayout-b0aa31ad.js";import{F,_ as w,d as y}from"./vuedraggable.umd-31612ef7.js";import $ from"./Form-fc5b1135.js";import{_ as f}from"./_plugin-vue_export-helper-c27b6911.js";import{o as n,e as c,a as s,t as h,r as C,v as l,c as W,w as d,s as o,b as r,h as B,F as I}from"./app-f8c09bae.js";import{_ as j,a as P,P as S,T,b as L,B as M}from"./OutlineBtn-bf1ae772.js";import"./createPopper-a1061a27.js";import"./vue.runtime.esm-bundler-4ac5040b.js";import"./TextInput-3d30f377.js";import"./InputLabel-8221c94a.js";import"./SvgLoading-0b97ec26.js";import"./WinputFile-b637a293.js";import"./default.css_vue_type_style_index_0_src_true_lang-c57d6165.js";import"./RiItalic-eaf762bd.js";const N={props:{isOpen:Boolean,contentTitle:String,panelClass:{type:String,default:"max-w-2xl"}},components:{}},E={key:0,class:"w-full bg-white"},A={class:"text-xl font-bold p-2"},D={key:1,class:"w-full flex items-center min-h-[150px]"},V=s("div",{class:"text-xl font-bold p-2 w-full text-center"},"Choisissez une page à éditer",-1),z=[V];function q(t,p,i,u,e,a){return i.isOpen?(n(),c("div",E,[s("div",A,h(i.contentTitle),1),C(t.$slots,"default")])):(n(),c("div",D,z))}const G=f(N,[["render",q]]),_=l({name:"",slug:"",title:"",contenu:"",image:null}),H=l({redirect:"",image:!1,contentMode:""}),J={props:["pages"],components:{AppLayout:v,Table:F,WkNotification:j,OutlineBtn:P,OutlineBtnDanger:w,PlusIcon:S,TrashIcon:T,PencilIcon:L,Bars2Icon:M,draggable:y,Content:G,Form:$},data(){return{isFormOpen:!1,isFormEdit:!1,formObject:_,isWorking:!1,staticOptions:{}}},methods:{saveItem(t){this.isWorking=!0;let p={onSuccess:()=>{this.formObject.reset("name","slug","title","content","image"),this.closeModal(),this.isWorking=!1},onError:()=>{this.isWorking=!1}};t.id&&(console.log(this.formObject),this.formObject.put(`pages/${t.id}`,p))},closeModal(){this.isFormOpen=!1,this.isFormEdit=!1},openForm(t){this.isFormOpen=!0,this.formObject=t?l(t):_,this.staticOptions=t?l(t.staticOptions):H}}},K=s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Les Pages ",-1),Q={class:"py-12"},R={class:"p-1 max-w-7xl mx-auto"},U={class:"pt-12 grid grid-cols-4 gap-x-2"},X={class:"col-span-1 p-2"},Y={class:"border border-gray-400 inline-flex w-full items-center text-gray-500 bg-white whitespace-nowrap text-sm hover:bg-gray-100 focus-within:bg-gray-100"},Z={class:"py-3 px-6 w-3/6"},ss={class:"py-3 px-6 w-2/6 flex justify-end"},ts={class:"col-span-3 w-full p-1"},es={class:"border border-dashed"};function os(t,p,i,u,e,a){const g=o("WkNotification"),x=o("PencilIcon"),O=o("Form"),b=o("Content"),k=o("AppLayout");return n(),W(k,{title:"Dashboard"},{header:d(()=>[K]),default:d(()=>[s("div",Q,[r(g,{message:t.$page.props.flash.message},null,8,["message"]),s("div",R,[s("div",U,[s("div",X,[(n(!0),c(I,null,B(i.pages,m=>(n(),c("div",{key:m.id},[s("ul",Y,[s("li",Z,h(m.name),1),s("li",ss,[r(x,{class:"w-6 h-6 cursor-pointer hover:stroke-black",onClick:ns=>a.openForm(m)},null,8,["onClick"])])])]))),128))]),s("div",ts,[s("div",es,[r(b,{isOpen:e.isFormOpen,contentTitle:"Modifier la page",panelClass:"max-w-4xl"},{default:d(()=>[r(O,{form:e.formObject,staticOptions:e.staticOptions,isWorking:e.isWorking,onFormsave:a.saveItem,onFormclose:a.closeModal},null,8,["form","staticOptions","isWorking","onFormsave","onFormclose"])]),_:1},8,["isOpen"])])])])])])]),_:1})}const Os=f(J,[["render",os]]);export{Os as default};
