import{P as p,O as T,c as v,w as l,N as s,o as I,a as e,b as t,g as y,t as m}from"./app-c8adfab2.js";import{_ as M}from"./AppLayout-f047be12.js";import{F as j,_ as B,r as C,a as E,b as W}from"./OutlineBtnDanger-ebe0112d.js";import N from"./Form-3c362aa5.js";import{M as P}from"./Modal-e9ab4f08.js";import{_ as $,a as L}from"./OutlineBtn-a00a548b.js";import{r as A,d as D}from"./vuedraggable.umd-fca62302.js";import{_ as V}from"./_plugin-vue_export-helper-c27b6911.js";import"./createPopper-9bf0707f.js";import"./TextInput-116a31b4.js";import"./InputLabel-5206ffca.js";import"./SvgLoading-aea3ca2c.js";import"./transition-1f2a6567.js";import"./vue.runtime.esm-bundler-5f44da9d.js";const d=p({name:"",description:"",image:null}),R={props:["tableauTags"],components:{AppLayout:M,Table:j,ModelForm:N,WkNotification:$,OutlineBtn:L,OutlineBtnDanger:B,PlusIcon:C,TrashIcon:E,PencilIcon:W,Bars2Icon:A,draggable:D,Modal:P},data(){return{isFormOpen:!1,isFormEdit:!1,formObject:d,isWorking:!1,drag:!1,modalTitle:"Modification tag"}},methods:{saveItem(o){this.isWorking=!0,console.log(this.formObject);let a={onSuccess:()=>{this.formObject.reset("name","slug"),this.closeModal(),this.isWorking=!1},onError:()=>{this.isWorking=!1}};o.id?(console.log(o.id),this.$inertia.put(`/tableauTags/${o.id}`,this.formObject,a)):this.formObject.post("/bo/tableauTags",a)},closeModal(){this.isFormOpen=!1,this.isFormEdit=!1},openForm(o){this.isFormOpen=!0,this.isFormEdit=!!o,this.formObject=o?p(o):d,this.isFormEdit||(this.modalTitle="Modification d'un tag")},deleteItem(o){console.log(o.id),window.confirm("are you sure?")&&this.$inertia.delete(`/tableauTags/${o.id}`)},onEndReorder(o){let a={order:this.tableauTags.data.map(({id:c})=>c)};console.log(a),T.post("/bo/tableauxTags",a)}}},S=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Les Tags de tableaux ",-1),q={class:"py-12"},z={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},G={class:"pt-12"},H={class:"max-w-xl"},J={class:"border border-gray-400 inline-flex w-full items-center text-gray-500 bg-white whitespace-nowrap text-sm hover:bg-gray-100 focus-within:bg-gray-100"},K={class:"py-3 px-6 w-3/6"},Q={class:"py-3 px-6 w-2/6"},U={class:"py-3 px-6 w-2/6 flex justify-end"},X={class:"bg-green-500 w-6 h-6 text-xs mx-2 rounded-full flex items-center"},Y={class:"mx-auto text-white"};function Z(o,a,c,oo,n,i){const _=s("WkNotification"),u=s("PlusIcon"),f=s("OutlineBtn"),g=s("Bars2Icon"),h=s("PencilIcon"),b=s("TrashIcon"),x=s("draggable"),F=s("ModelForm"),O=s("Modal"),k=s("AppLayout");return I(),v(k,{title:"Dashboard"},{header:l(()=>[S]),default:l(()=>[e("div",q,[t(_,{message:o.$page.props.flash.message},null,8,["message"]),e("div",z,[t(f,{onClick:a[0]||(a[0]=r=>i.openForm())},{default:l(()=>[y(" Nouveau Tag de tableau"),t(u,{class:"ml-2 -mr-1 h-5 w-5"})]),_:1}),e("div",G,[e("div",H,[t(x,{list:c.tableauTags.data,"item-key":"order_column",handle:".handle",onChange:i.onEndReorder},{item:l(({element:r})=>[e("ul",J,[t(g,{class:"h-6 pl-1 handle cursor-pointer"}),e("li",K,m(r.name),1),e("li",Q,m(r.slug),1),e("li",U,[t(h,{class:"w-6 h-6 cursor-pointer hover:stroke-black",onClick:w=>i.openForm(r)},null,8,["onClick"]),e("div",X,[e("div",Y,m(r.tableaux_count),1)]),t(b,{class:"w-6 h-6 cursor-pointer hover:stroke-red-600",onClick:w=>i.deleteItem(r)},null,8,["onClick"])])])]),_:1},8,["list","onChange"])])])])]),t(O,{isOpen:n.isFormOpen,dialogTitle:n.modalTitle,panelClass:"max-w-4xl"},{default:l(()=>[t(F,{isOpen:n.isFormOpen,isEdit:n.isFormEdit,form:n.formObject,isWorking:n.isWorking,onFormsave:i.saveItem,onFormclose:i.closeModal},null,8,["isOpen","isEdit","form","isWorking","onFormsave","onFormclose"])]),_:1},8,["isOpen","dialogTitle"])]),_:1})}const go=V(R,[["render",Z]]);export{go as default};
