import{_ as v}from"./AppLayout-43764f53.js";import{F,_ as w,d as y}from"./vuedraggable.umd-a006e6d8.js";import $ from"./Form-04dfe8f8.js";import{_ as f}from"./_plugin-vue_export-helper-c27b6911.js";import{o as n,e as c,a as t,t as h,r as C,v as l,c as W,w as d,x as o,b as r,h as B,F as I}from"./app-efdfa947.js";import{_ as j,a as P,P as S,T,b as L,B as M}from"./OutlineBtn-e93e94aa.js";import"./createPopper-a1061a27.js";import"./vue.runtime.esm-bundler-0933dc64.js";import"./TextInput-52b0da1a.js";import"./InputLabel-d02a8960.js";import"./SvgLoading-5ecac20e.js";import"./WinputFile-41f3009a.js";import"./default.css_vue_type_style_index_0_src_true_lang-cb871fb2.js";import"./RiItalic-aa19f420.js";const N={props:{isOpen:Boolean,contentTitle:String,panelClass:{type:String,default:"max-w-2xl"}},components:{}},E={key:0,class:"w-full bg-white"},A={class:"text-xl font-bold p-2"},D={key:1,class:"w-full flex items-center min-h-[150px]"},V=t("div",{class:"text-xl font-bold p-2 w-full text-center"},"Choisissez une page à éditer",-1),z=[V];function q(s,p,i,u,e,a){return i.isOpen?(n(),c("div",E,[t("div",A,h(i.contentTitle),1),C(s.$slots,"default")])):(n(),c("div",D,z))}const G=f(N,[["render",q]]),_=l({name:"",slug:"",title:"",contenu:"",image:null}),H=l({redirect:"",image:!1,contentMode:""}),J={props:["pages"],components:{AppLayout:v,Table:F,WkNotification:j,OutlineBtn:P,OutlineBtnDanger:w,PlusIcon:S,TrashIcon:T,PencilIcon:L,Bars2Icon:M,draggable:y,Content:G,Form:$},data(){return{isFormOpen:!1,isFormEdit:!1,formObject:_,isWorking:!1,staticOptions:{}}},methods:{saveItem(s){this.isWorking=!0;let p={onSuccess:()=>{this.formObject.reset("name","slug","title","content","image"),this.closeModal(),this.isWorking=!1},onError:()=>{this.isWorking=!1}};s.id&&(console.log(this.formObject),this.formObject.put(`pages/${s.id}`,p))},closeModal(){this.isFormOpen=!1,this.isFormEdit=!1},openForm(s){this.isFormOpen=!0,this.formObject=s?l(s):_,this.staticOptions=s?l(s.staticOptions):H}}},K=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Les Pages ",-1),Q={class:"py-12"},R={class:"p-1 max-w-7xl mx-auto"},U={class:"pt-12 grid grid-cols-4 gap-x-2"},X={class:"col-span-1 p-2"},Y={class:"border border-gray-400 inline-flex w-full items-center text-gray-500 bg-white whitespace-nowrap text-sm hover:bg-gray-100 focus-within:bg-gray-100"},Z={class:"py-3 px-6 w-3/6"},tt={class:"py-3 px-6 w-2/6 flex justify-end"},st={class:"col-span-3 w-full p-1"},et={class:"border border-dashed"};function ot(s,p,i,u,e,a){const g=o("WkNotification"),x=o("PencilIcon"),O=o("Form"),b=o("Content"),k=o("AppLayout");return n(),W(k,{title:"Dashboard"},{header:d(()=>[K]),default:d(()=>[t("div",Q,[r(g,{message:s.$page.props.flash.message},null,8,["message"]),t("div",R,[t("div",U,[t("div",X,[(n(!0),c(I,null,B(i.pages,m=>(n(),c("div",{key:m.id},[t("ul",Y,[t("li",Z,h(m.name),1),t("li",tt,[r(x,{class:"w-6 h-6 cursor-pointer hover:stroke-black",onClick:nt=>a.openForm(m)},null,8,["onClick"])])])]))),128))]),t("div",st,[t("div",et,[r(b,{isOpen:e.isFormOpen,contentTitle:"Modifier la page",panelClass:"max-w-4xl"},{default:d(()=>[r(O,{form:e.formObject,staticOptions:e.staticOptions,isWorking:e.isWorking,onFormsave:a.saveItem,onFormclose:a.closeModal},null,8,["form","staticOptions","isWorking","onFormsave","onFormclose"])]),_:1},8,["isOpen"])])])])])])]),_:1})}const Ot=f(J,[["render",ot]]);export{Ot as default};
